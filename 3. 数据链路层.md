[TOC]

#### 3.1 使用点对点信道的数据链路层

##### 3.1.1 数据链路和帧

链路（ link ）是从一个结点到相邻结点的一段物理线路（有线或无线），而中间没有任何其他的交换结点，只是一条路径的组成部分。把实现通信协议的硬件和软件加到链路上，就构成了数据链路（ data link ）。最常用网络适配器来实现，包括了数据链路层和物理层的功能

数据链路层把网络层交下来的数据构成帧发送到链路上，以及把接收到的帧中的数据取出并上交给网络层，网络层协议数据单元就是 IP 数据报（或简称为数据报、分组或包）

##### 3.1.2 三个基本问题

1. 封装成帧

   封装成帧（ framing ）就是在一段数据的前后分别添加首部和尾部，这样就构成了一个帧。首部和尾部的一个重要作用是帧定界。每一种链路层协议都规定了所能传送的帧的数据部分长度上限，最大传送单元 MTU （ Maximun Transfer Unit ）

2. 透明传输

   透明传输就是无论什么样的比特组合的数据，都能按照原样没有差错地通过数据链路层。所传输的数据中的任何 8 比特的组合一定不允许和用作帧定界的控制字符的比特编码一样，否则就会出现帧定界的错误

   在数据中出现的控制字符前面插入一个转义字符 ESC ，在接收端的数据链路层在把数据送往网络层之前删除这个插入的转义字符，这种方法称为字节填充（ byte stuffing ）或字符填充（ character stuffing ）。如果转义字符也出现在数据中，则在转义字符前面插入一个转义字符

3. 差错检测

   - 比特差错，循环冗余校验
   - 传输差错，帧丢失、帧重复、帧失序，帧编号、确认和重传机制